[gd_scene load_steps=13 format=3 uid="uid://btp7hnqxcg8sn"]

[ext_resource type="PackedScene" uid="uid://d0sttnlpnm00u" path="res://game/pathing/path_node.tscn" id="2_oeym1"]
[ext_resource type="PackedScene" uid="uid://bfa2a610e6sw6" path="res://game/level/level_manager.tscn" id="3_gsljs"]
[ext_resource type="PackedScene" uid="uid://dqrescp1p70b4" path="res://game/level/enemy_spawner.tscn" id="3_oeym1"]
[ext_resource type="PackedScene" uid="uid://ht2s7wyyb24a" path="res://game/towers/debug_tower.tscn" id="4_c0637"]
[ext_resource type="Script" uid="uid://5t10kxtq3ygk" path="res://resources/wave_data/wave_data.gd" id="4_m20e2"]
[ext_resource type="Resource" uid="uid://cp0m4fvr7el0l" path="res://resources/wave_data/debug_wave.tres" id="5_y7ob1"]
[ext_resource type="Resource" uid="uid://d1ymdojc624f7" path="res://resources/wave_data/debug_wave2.tres" id="6_x30bg"]
[ext_resource type="PackedScene" uid="uid://d0olvwfao1xk1" path="res://game/ui/wave_start_button.tscn" id="7_y7ob1"]

[sub_resource type="Environment" id="Environment_m20e2"]

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_y7ob1"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_oeym1"]
vertices = PackedVector2Array(222.38281, 363.9297, 799.3203, 367.90625, 792.4375, 412, 233.85156, 412, 177.75, 413.67188, 202.34375, 61.78125, 238.57813, 95.10156, 817.15625, 47.226563, 817.8281, 89.10156)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(0, 3, 4), PackedInt32Array(0, 4, 5, 6), PackedInt32Array(6, 5, 7, 8)])
outlines = Array[PackedVector2Array]([PackedVector2Array(167, 424, 234, 422, 801, 422, 811, 358, 233, 354, 248, 105, 828, 99, 827, 37, 193, 52)])

[sub_resource type="RectangleShape2D" id="RectangleShape2D_oeym1"]
size = Vector2(778, 486)

[node name="DebugPathing" type="Node2D"]
position = Vector2(-16, 26)

[node name="PathNode4" parent="." node_paths=PackedStringArray("next_path_node") instance=ExtResource("2_oeym1")]
position = Vector2(773, 380)
next_path_node = NodePath(".")
exit_node = true

[node name="PathNode3" parent="." node_paths=PackedStringArray("next_path_node") instance=ExtResource("2_oeym1")]
position = Vector2(206, 389)
next_path_node = NodePath("../PathNode4")

[node name="PathNode2" parent="." node_paths=PackedStringArray("next_path_node") instance=ExtResource("2_oeym1")]
position = Vector2(224, 74)
next_path_node = NodePath("../PathNode3")

[node name="PathNode" parent="." node_paths=PackedStringArray("next_path_node") instance=ExtResource("2_oeym1")]
position = Vector2(811, 64)
next_path_node = NodePath("../PathNode2")

[node name="Enemies" type="Node2D" parent="." groups=["enemies_group"]]

[node name="LevelManager" parent="." node_paths=PackedStringArray("first_path_node", "enemy_spawner", "wave_start_button", "worms", "player_money_label", "wave_counter") instance=ExtResource("3_gsljs")]
player_worms = 20
first_path_node = NodePath("../PathNode")
enemy_spawner = NodePath("../EnemySpawner")
wave_start_button = NodePath("../WaveStart")
worms = NodePath("../Worms")
player_money_label = NodePath("../PlayerMoney")
wave_counter = NodePath("../WaveCounter")

[node name="EnemySpawner" parent="." node_paths=PackedStringArray("level_manager", "spawner_path_node") instance=ExtResource("3_oeym1")]
level_manager = NodePath("../LevelManager")
base_spawn_time = 0.3
spawner_path_node = NodePath("../PathNode")
wave_set = Array[ExtResource("4_m20e2")]([ExtResource("5_y7ob1"), ExtResource("6_x30bg")])

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_m20e2")
camera_attributes = SubResource("CameraAttributesPractical_y7ob1")

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
position = Vector2(-2, -8)
navigation_polygon = SubResource("NavigationPolygon_oeym1")

[node name="Area2D" type="Area2D" parent="NavigationRegion2D"]
position = Vector2(0, -8)

[node name="CollisionShape2D" type="CollisionShape2D" parent="NavigationRegion2D/Area2D"]
position = Vector2(492, 245)
shape = SubResource("RectangleShape2D_oeym1")

[node name="debug_tower" parent="." instance=ExtResource("4_c0637")]
position = Vector2(294, 313)

[node name="debug_tower2" parent="." instance=ExtResource("4_c0637")]
position = Vector2(167, 173)

[node name="debug_tower3" parent="." instance=ExtResource("4_c0637")]
position = Vector2(700, 459)

[node name="WaveStart" parent="." instance=ExtResource("7_y7ob1")]
offset_left = 921.0
offset_top = 319.0
offset_right = 1170.0
offset_bottom = 427.0

[node name="Worms" type="Label" parent="."]
offset_left = 1030.0
offset_top = 93.0
offset_right = 1101.0
offset_bottom = 142.0
text = "WORMS: "

[node name="PlayerMoney" type="Label" parent="."]
offset_left = 1033.0
offset_top = 116.0
offset_right = 1073.0
offset_bottom = 139.0
text = "$"

[node name="WaveCounter" type="Label" parent="."]
offset_left = 1033.0
offset_top = 147.0
offset_right = 1078.0
offset_bottom = 170.0
text = "WAVE"
