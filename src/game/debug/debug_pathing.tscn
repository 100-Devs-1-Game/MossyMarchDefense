[gd_scene load_steps=13 format=3 uid="uid://btp7hnqxcg8sn"]

[ext_resource type="PackedScene" uid="uid://d0sttnlpnm00u" path="res://game/pathing/path_node.tscn" id="2_oeym1"]
[ext_resource type="PackedScene" uid="uid://bfa2a610e6sw6" path="res://game/level/level_manager.tscn" id="3_gsljs"]
[ext_resource type="PackedScene" uid="uid://dqrescp1p70b4" path="res://game/level/enemy_spawner.tscn" id="3_oeym1"]
[ext_resource type="PackedScene" uid="uid://ht2s7wyyb24a" path="res://game/towers/debug_tower.tscn" id="4_c0637"]
[ext_resource type="Script" uid="uid://5t10kxtq3ygk" path="res://resources/wave_data/wave_data.gd" id="4_m20e2"]
[ext_resource type="Resource" uid="uid://cp0m4fvr7el0l" path="res://resources/wave_data/debug_wave.tres" id="5_y7ob1"]
[ext_resource type="Resource" uid="uid://d1ymdojc624f7" path="res://resources/wave_data/debug_wave2.tres" id="6_x30bg"]
[ext_resource type="PackedScene" uid="uid://d0olvwfao1xk1" path="res://game/ui/wave_start_button.tscn" id="7_y7ob1"]

[sub_resource type="Environment" id="Environment_m20e2"]

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_y7ob1"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_oeym1"]
vertices = PackedVector2Array(51.09375, 24.820313, 205.4375, 22.179688, 204.50781, 39.921875, 78, 38.921875, 51.898438, 106, 78, 81.92969, 72.92969, 106, 213.67969, 105.0625, 215.27344, 82.921875)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 0, 3, 5, 6), PackedInt32Array(7, 6, 5, 8)])
outlines = Array[PackedVector2Array]([PackedVector2Array(42, 116, 73, 116, 223, 115, 226, 73, 88, 72, 88, 49, 214, 50, 216, 12, 41, 15)])

[sub_resource type="RectangleShape2D" id="RectangleShape2D_oeym1"]
size = Vector2(217, 120)

[node name="DebugPathing" type="Node2D"]

[node name="PathNode4" parent="." node_paths=PackedStringArray("next_path_node") instance=ExtResource("2_oeym1")]
position = Vector2(204, 101)
next_path_node = NodePath(".")
exit_node = true

[node name="PathNode3" parent="." node_paths=PackedStringArray("next_path_node") instance=ExtResource("2_oeym1")]
position = Vector2(59, 103)
next_path_node = NodePath("../PathNode4")

[node name="PathNode2" parent="." node_paths=PackedStringArray("next_path_node") instance=ExtResource("2_oeym1")]
position = Vector2(54, 30)
next_path_node = NodePath("../PathNode3")

[node name="PathNode" parent="." node_paths=PackedStringArray("next_path_node") instance=ExtResource("2_oeym1")]
position = Vector2(126, 35)
next_path_node = NodePath("../PathNode2")

[node name="Enemies" type="Node2D" parent="." groups=["enemies_group"]]

[node name="LevelManager" parent="." node_paths=PackedStringArray("first_path_node", "enemy_spawner", "wave_start_button") instance=ExtResource("3_gsljs")]
player_worms = 20
first_path_node = NodePath("../PathNode")
enemy_spawner = NodePath("../EnemySpawner")
wave_start_button = NodePath("../WaveStart")

[node name="EnemySpawner" parent="." node_paths=PackedStringArray("level_manager", "spawner_path_node") instance=ExtResource("3_oeym1")]
level_manager = NodePath("../LevelManager")
base_spawn_time = 0.3
spawner_path_node = NodePath("../PathNode")
wave_set = Array[ExtResource("4_m20e2")]([ExtResource("5_y7ob1"), ExtResource("6_x30bg")])

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_m20e2")
camera_attributes = SubResource("CameraAttributesPractical_y7ob1")

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_oeym1")

[node name="Area2D" type="Area2D" parent="NavigationRegion2D"]
position = Vector2(0, -8)

[node name="CollisionShape2D" type="CollisionShape2D" parent="NavigationRegion2D/Area2D"]
position = Vector2(140, 73)
shape = SubResource("RectangleShape2D_oeym1")

[node name="debug_tower" parent="." instance=ExtResource("4_c0637")]
position = Vector2(32, 67)

[node name="debug_tower2" parent="." instance=ExtResource("4_c0637")]
position = Vector2(94, 68)

[node name="debug_tower3" parent="." instance=ExtResource("4_c0637")]
position = Vector2(128, 127)

[node name="WaveStart" parent="." instance=ExtResource("7_y7ob1")]
offset_left = 209.0
offset_top = 168.0
offset_right = 458.0
offset_bottom = 276.0

[node name="Worms" type="Label" parent="."]
offset_left = 301.0
offset_top = 39.0
offset_right = 363.0
offset_bottom = 88.0
text = "WORMS: "

[node name="PlayerMoney" type="Label" parent="."]
offset_left = 304.0
offset_top = 62.0
offset_right = 344.0
offset_bottom = 85.0
text = "$"

[node name="WaveCounter" type="Label" parent="."]
offset_left = 304.0
offset_top = 93.0
offset_right = 349.0
offset_bottom = 116.0
text = "WAVE"
